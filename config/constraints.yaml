# constraints.yaml
# Canonical source for all Theater Pipeline constraints
# All agents and skills should reference this file

version: "2.0"
last_updated: "2026-01-08"
pipeline: "theater_education"

# =============================================================================
# DAILY STRUCTURE (56 minutes total)
# =============================================================================

daily_structure:
  total_minutes: 56

  components:
    agenda_journal:
      duration_minutes: 5
      tolerance_seconds: 30
      description: "Agenda display and journal-in prompt"

    warmup:
      duration_minutes: 5
      tolerance_seconds: 30
      description: "Content-connected theater warmup"

    lecture:
      duration_minutes: 15
      min_duration_minutes: 5   # HARDCODED minimum
      max_duration_minutes: 20  # HARDCODED maximum
      tolerance_minutes: 1
      description: "PowerPoint presentation with verbatim notes"
      frontloading_required: true  # Lecture MUST frontload activity content

    activity:
      duration_minutes: 15
      tolerance_minutes: 1
      description: "Structured hands-on activity"

    reflection:
      duration_minutes: 10
      tolerance_minutes: 1
      description: "Journal reflection and exit ticket"

    buffer:
      duration_minutes: 6
      description: "Transition and flexibility time"

# =============================================================================
# TEXT LIMITS
# =============================================================================

text_limits:
  # Header/Title Constraints
  header:
    chars_per_line: 36
    max_lines: 1
    total_max_chars: 36
    revision_required: true  # NEVER truncate - always revise to fit

  # Body Constraints
  body:
    max_lines: 12
    word_wrap: true
    truncation: false  # NEVER truncate body content

  # Performance Tip Constraints
  performance_tip:
    chars_per_line: 66
    max_lines: 2
    total_max_chars: 132
    prefix: "PERFORMANCE TIP:"

# =============================================================================
# PRESENTER NOTES REQUIREMENTS (15-minute verbatim script)
# =============================================================================

presenter_notes:
  # Word count targets for 15 minutes at 130-150 WPM
  total_words:
    minimum: 1950
    target: 2100
    maximum: 2250

  # Per-slide targets (ALL slide types - flexible range)
  per_slide:
    minimum: 30
    maximum: 180
    note: "Use best judgment based on content needs - no rigid per-slide-type targets"

  # Duration estimates
  duration:
    target_minutes: 15
    minimum_minutes: 14
    maximum_minutes: 16
    speaking_rate_wpm: 140  # Average speaking rate

  # Required markers
  markers:
    pause:
      min_per_slide: 2
      format: "[PAUSE]"
    emphasis:
      min_per_content_slide: 1
      format: "[EMPHASIS: term]"
    check_understanding:
      min_per_presentation: 3
      format: "[CHECK FOR UNDERSTANDING]"

  # Style requirements
  style:
    verbatim: true  # Word-for-word script
    contractions_allowed: true
    direct_address: true  # "you", "we", "let's"
    natural_spoken_language: true

# =============================================================================
# WARMUP REQUIREMENTS
# =============================================================================

warmup:
  duration_minutes: 5

  # Structure requirements
  structure:
    required_phases:
      - setup           # 30 seconds
      - demonstration   # 30 seconds (if needed)
      - execution       # 3 minutes
      - wrapup          # 30 seconds
      - transition      # 30 seconds

  # Content requirements
  content:
    must_connect_to_lesson: true
    abstract_allowed: false

    # Must include at least one of:
    connection_types:
      - vocabulary_reference
      - skill_practice
      - concept_preview

  # Types by category
  types:
    physical: ["voice", "body", "movement"]
    mental: ["focus", "observation", "concentration"]
    social: ["partner", "group", "ensemble"]
    creative: ["improvisation", "imagination"]
    content: ["skill_practice", "vocabulary"]

# =============================================================================
# ACTIVITY REQUIREMENTS
# =============================================================================

activity:
  duration_minutes: 15

  # Structure requirements
  structure:
    setup_minutes: 1.5
    work_minutes: 11
    sharing_minutes: 2.5

    required_elements:
      - numbered_steps
      - time_allocations
      - expected_outcomes
      - teacher_actions
      - student_actions

  # Time warnings
  time_warnings:
    - at_minute: 10
    - at_minute: 13

  # Types allowed
  types:
    - writing
    - discussion
    - performance
    - annotation
    - creative
    - physical
    - collaborative

  # Differentiation required
  differentiation:
    required_categories:
      - ell_supports
      - advanced_extensions
      - struggling_modifications

# =============================================================================
# POWERPOINT STRUCTURE
# =============================================================================

powerpoint:
  # Slide counts
  slides:
    content_slides: 12
    auxiliary_slides: 4
    total_slides: 16

  # Slide structure
  structure:
    - slide: 1
      type: "auxiliary"
      content: "Agenda"
      counted: false
    - slide: 2
      type: "auxiliary"
      content: "Warmup Instructions"
      counted: false
    - slides: "3-14"
      type: "content"
      content: "Learning Content"
      counted: true
      count: 12
    - slide: 15
      type: "auxiliary"
      content: "Activity Instructions"
      counted: false
    - slide: 16
      type: "auxiliary"
      content: "Journal & Exit Ticket"
      counted: false

# =============================================================================
# MARKER REQUIREMENTS
# =============================================================================

markers:
  pause:
    min_per_slide: 2
    format: "[PAUSE]"
    alternate_formats:
      - "[PAUSE - X seconds]"

  emphasis:
    min_per_content_slide: 1
    format: "[EMPHASIS: term]"

  check_understanding:
    min_per_presentation: 3
    format: "[CHECK FOR UNDERSTANDING]"

  performance_callout:
    required: false
    patterns:
      - "In performance"
      - "On stage"
      - "When you're performing"

# =============================================================================
# VALIDATION THRESHOLDS (HARDCODED VALIDATORS)
# =============================================================================

validation:
  # Truncation Validator (HARDCODED - CANNOT BE BYPASSED)
  truncation:
    rules:
      - "Every sentence must end with . ! ? or :"
      - "No trailing ellipsis (...)"
      - "No mid-word cuts"
      - "No incomplete thoughts"
    auto_fix: true
    must_pass: true

  # Elaboration Validator (HARDCODED - CANNOT BE BYPASSED)
  elaboration:
    pass_threshold: 85  # Out of 100
    scoring_weights:
      depth: 0.30
      examples: 0.20
      procedure: 0.20
      tone: 0.15
      connections: 0.15
    must_pass: true

  # Timing Validator (HARDCODED - CANNOT BE BYPASSED)
  timing:
    presenter_notes:
      min_words: 1950
      max_words: 3000  # Temporarily relaxed for Shakespeare unit
      min_minutes: 14
      max_minutes: 22  # Temporarily relaxed for Shakespeare unit
    per_slide:
      min_words: 50
      max_words: 300
    must_pass: true

  # Structure Validator (HARDCODED - CANNOT BE BYPASSED)
  structure:
    required_components:
      - lesson_plan
      - powerpoint
      - presenter_notes
      - warmup
      - activity
      - handout
      - journal_prompt
      - exit_tickets
      - standards
      - materials_list
    must_pass: true

# =============================================================================
# QUALITY GATE THRESHOLDS
# =============================================================================

quality_gates:
  # Gate 1: Post-Generation (MANDATORY)
  gate_1:
    name: "Post-Generation"
    validators:
      - truncation  # MUST PASS
      - structure   # MUST PASS
    action_on_fail: "return_to_generation"

  # Gate 2: Quality (Score-Based)
  gate_2:
    name: "Quality"
    validators:
      - elaboration: 85  # Score >= 85
      - timing: "within_tolerance"
      - coherence: 80
    action_on_fail: "return_to_revision"

  # Gate 3: Standards (Coverage)
  gate_3:
    name: "Standards"
    validators:
      - standards_coverage: "all_objectives_linked"
      - pedagogy: 80
    action_on_fail: "return_to_revision"

# =============================================================================
# LEARNING OBJECTIVE COVERAGE
# =============================================================================

learning_objective_coverage:
  required_rate: 1.0  # 100% coverage required
  max_objectives_per_slide: 2
  min_objectives_per_lesson: 2
  max_objectives_per_lesson: 4

  # Each objective must be:
  requirements:
    - addressed_in_lecture: true
    - practiced_in_activity: true
    - assessed_in_exit_ticket: true

# =============================================================================
# LESSON PLAN REQUIREMENTS
# =============================================================================

lesson_plan:
  # Required sections
  required_sections:
    - basic_information
    - standards
    - learning_objectives
    - vocabulary
    - materials
    - procedure
    - differentiation
    - assessment
    - reflection_space

  # Procedure must include
  procedure_requirements:
    - teacher_actions
    - student_actions
    - timing_per_component
    - transitions

  # Differentiation must address
  differentiation_categories:
    - ell_support
    - advanced_learners
    - struggling_learners

# =============================================================================
# UNIT STRUCTURE
# =============================================================================

units:
  total_units: 4
  total_instructional_days: 80

  unit_list:
    - number: 1
      name: "Greek Theater"
      days: 20
      focus: ["origins", "tragedy", "comedy", "chorus", "masks"]

    - number: 2
      name: "Commedia dell'Arte"
      days: 18
      focus: ["stock_characters", "lazzi", "improvisation", "physicality"]

    - number: 3
      name: "Shakespeare"
      days: 30  # Updated for Romeo and Juliet full coverage
      focus: ["language", "verse", "staging", "character_analysis", "romeo_and_juliet"]

    - number: 4
      name: "Student-Directed One Acts"
      days: 17
      focus: ["directing", "blocking", "rehearsal", "production"]

# =============================================================================
# ROMEO AND JULIET 6-WEEK UNIT (HARDCODED - LIGHT TRIM VERSION)
# =============================================================================

romeo_and_juliet:
  total_weeks: 6
  total_days: 30  # 5 days per week
  text: "Romeo and Juliet by William Shakespeare"
  version: "light_trim"  # ~20% reduction for activity differentiation

  # ==========================================================================
  # SCENES TO CUT (Teacher summary only - no reading)
  # ==========================================================================
  scenes_to_cut:
    - scene: "Act 2 Scene 1"
      title: "Mercutio searching for Romeo"
      reason: "Brief transitional scene, no plot advancement"
      summary_duration_seconds: 30
      summary_script: "After the party, Mercutio and Benvolio search for Romeo, not knowing he has stayed behind. Romeo hides, listening to Mercutio joke about love."

    - scene: "Act 4 Scene 2"
      title: "Capulet household preparations"
      reason: "Domestic scene, plot covered in surrounding scenes"
      summary_duration_seconds: 30
      summary_script: "The Capulet household prepares for Juliet's wedding to Paris, unaware of her secret plan."

    - scene: "Act 4 Scene 4"
      title: "Wedding morning preparations"
      reason: "Entirely transitional, creates dramatic irony already established"
      summary_duration_seconds: 0
      summary_script: null  # Cut entirely, context provided in Scene 5

    - scene: "Act 5 Scene 2"
      title: "Friar John's failed delivery"
      reason: "Can be summarized in Friar Lawrence's Act 5 Scene 3 explanation"
      summary_duration_seconds: 60
      summary_script: "Friar John was quarantined due to plague fears and could not deliver the letter to Romeo explaining Juliet's fake death. This is why Romeo believes Juliet is truly dead."

  # ==========================================================================
  # SCENES TO TRIM (Excerpts and key lines only)
  # ==========================================================================
  scenes_to_trim:
    - scene: "Act 1 Scene 2"
      title: "Capulet and Paris discuss Juliet"
      original_length_minutes: 8
      trimmed_length_minutes: 3
      keep_lines:
        - "She hath not seen the change of fourteen years"
        - "My will to her consent is but a part"
        - "At my poor house look to behold this night / Earth-treading stars"
      cut_content: "Servant's illiteracy subplot, extended guest list reading"
      teaching_note: "Focus on Capulet's initial protectiveness and invitation to the ball"

    - scene: "Act 2 Scene 4"
      title: "Mercutio and Romeo banter"
      original_length_minutes: 12
      trimmed_length_minutes: 5
      keep_lines:
        - "Alas poor Romeo! he is already dead"
        - "Now art thou sociable, now art thou Romeo"
        - Nurse entrance and Mercutio's teasing
      cut_content: "Extended wordplay, repeated Queen Mab references"
      teaching_note: "Highlight Romeo's changed mood and Nurse as messenger"

    - scene: "Act 3 Scene 4"
      title: "Capulet arranges Paris marriage"
      original_length_minutes: 6
      trimmed_length_minutes: 2
      keep_lines:
        - "Things have fall'n out, sir, so unluckily"
        - "I think she will be ruled in all respects by me"
        - "Thursday let it be"
      cut_content: "Extended discussion of grief, politeness exchanges"
      teaching_note: "Focus on the forced timeline creating tragedy"

  # ==========================================================================
  # REVISED COVERAGE STRUCTURE (Reading + Activity Days)
  # ==========================================================================
  coverage:
    week_1:
      act: 1
      total_days: 5
      reading_days: 3
      activity_days: 2
      focus:
        - day: 1
          type: "reading"
          content: "Prologue and Act 1 Scene 1: Street brawl"
          scenes: ["Prologue", "1.1"]
        - day: 2
          type: "reading"
          content: "Act 1 Scene 3-4: Capulet household and Queen Mab"
          scenes: ["1.3", "1.4"]
          note: "Scene 2 trimmed - key lines only in intro"
        - day: 3
          type: "reading"
          content: "Act 1 Scene 5: The ball and first meeting"
          scenes: ["1.5"]
        - day: 4
          type: "activity"
          content: "Differentiated Activity: Character Analysis"
          activity_options: ["character_chart", "monologue_creation", "staging_tableau"]
        - day: 5
          type: "activity"
          content: "Differentiated Activity: Language Exploration"
          activity_options: ["sonnet_analysis", "modern_translation", "verse_performance"]
      reading_type: "shared_reading_with_annotation"

    week_2:
      act: 2
      total_days: 5
      reading_days: 3
      activity_days: 2
      focus:
        - day: 1
          type: "reading"
          content: "Act 2 Scene 2: Balcony scene"
          scenes: ["2.2"]
          note: "Scene 1 cut - 30 sec summary"
        - day: 2
          type: "reading"
          content: "Act 2 Scene 3: Friar Lawrence"
          scenes: ["2.3"]
          note: "Scene 4 trimmed - highlight reel"
        - day: 3
          type: "reading"
          content: "Act 2 Scene 5-6: Nurse's message and marriage"
          scenes: ["2.5", "2.6"]
        - day: 4
          type: "activity"
          content: "Differentiated Activity: Balcony Scene Performance"
          activity_options: ["blocking_design", "duet_performance", "modern_adaptation"]
        - day: 5
          type: "activity"
          content: "Differentiated Activity: Relationship Mapping"
          activity_options: ["character_web", "letter_writing", "advice_column"]
      reading_type: "close_reading_with_discussion"

    week_3:
      act: 3
      total_days: 5
      reading_days: 4
      activity_days: 1
      must_keep_scenes: ["3.1"]  # Mercutio/Tybalt fight - HARDCODED MUST KEEP
      focus:
        - day: 1
          type: "reading"
          content: "Act 3 Scene 1: Mercutio and Tybalt fight (Part 1)"
          scenes: ["3.1a"]
          highlight: "MUST KEEP - Major turning point"
        - day: 2
          type: "reading"
          content: "Act 3 Scene 1: Romeo kills Tybalt (Part 2)"
          scenes: ["3.1b"]
          highlight: "MUST KEEP - Consequence and banishment"
        - day: 3
          type: "reading"
          content: "Act 3 Scene 2-3: Reactions to banishment"
          scenes: ["3.2", "3.3"]
        - day: 4
          type: "reading"
          content: "Act 3 Scene 5: Morning farewell and Capulet ultimatum"
          scenes: ["3.5"]
          note: "Scene 4 trimmed - key lines in intro"
        - day: 5
          type: "activity"
          content: "Differentiated Activity: Stage Combat and Conflict"
          activity_options: ["fight_choreography", "conflict_analysis", "news_report"]
      reading_type: "partner_reading_with_roles"

    week_4:
      act: 4
      total_days: 5
      reading_days: 2
      activity_days: 3
      focus:
        - day: 1
          type: "reading"
          content: "Act 4 Scene 1: Friar's desperate plan"
          scenes: ["4.1"]
          note: "Scenes 2 and 4 cut entirely"
        - day: 2
          type: "reading"
          content: "Act 4 Scene 3 and 5: Potion soliloquy and discovery"
          scenes: ["4.3", "4.5"]
        - day: 3
          type: "activity"
          content: "Differentiated Activity: Soliloquy Deep Dive"
          activity_options: ["soliloquy_performance", "fear_mapping", "artistic_interpretation"]
        - day: 4
          type: "activity"
          content: "Differentiated Activity: Plot Analysis"
          activity_options: ["timeline_creation", "what_if_scenarios", "dramatic_irony_hunt"]
        - day: 5
          type: "activity"
          content: "Differentiated Activity: Mid-Unit Synthesis"
          activity_options: ["theme_collage", "character_trial", "prediction_debate"]
      reading_type: "independent_reading_with_response"

    week_5:
      act: 5
      total_days: 5
      reading_days: 3
      activity_days: 2
      must_keep_scenes: ["5.3"]  # Tomb scene - HARDCODED MUST KEEP
      focus:
        - day: 1
          type: "reading"
          content: "Act 5 Scene 1: Romeo in Mantua receives news"
          scenes: ["5.1"]
          note: "Scene 2 cut - 60 sec summary"
        - day: 2
          type: "reading"
          content: "Act 5 Scene 3: Tomb scene (Part 1)"
          scenes: ["5.3a"]
          highlight: "MUST KEEP - Climax begins"
        - day: 3
          type: "reading"
          content: "Act 5 Scene 3: Deaths and resolution (Part 2)"
          scenes: ["5.3b"]
          highlight: "MUST KEEP - Tragedy resolution"
        - day: 4
          type: "activity"
          content: "Differentiated Activity: Tomb Scene Performance"
          activity_options: ["death_scene_staging", "eulogy_writing", "director_notes"]
        - day: 5
          type: "activity"
          content: "Differentiated Activity: Play Synthesis"
          activity_options: ["theme_essay", "alternate_ending", "courtroom_trial"]
      reading_type: "choral_reading_for_verse"

    week_6:
      act: "performance"
      total_days: 5
      reading_days: 0
      activity_days: 5
      focus:
        - day: 1
          type: "activity"
          content: "Scene selection and ensemble formation"
          activity_options: ["audition_workshop", "scene_selection", "role_assignment"]
        - day: 2
          type: "activity"
          content: "Blocking and staging workshop"
          activity_options: ["blocking_rehearsal", "staging_design", "prop_creation"]
        - day: 3
          type: "activity"
          content: "Character and vocal work"
          activity_options: ["character_hot_seat", "vocal_coaching", "costume_design"]
        - day: 4
          type: "activity"
          content: "Final rehearsal and polish"
          activity_options: ["dress_rehearsal", "peer_feedback", "tech_integration"]
        - day: 5
          type: "activity"
          content: "Scene performances"
          activity_options: ["performance", "audience_talkback", "reflection_writing"]
      reading_type: null

  # ==========================================================================
  # DIFFERENTIATED ACTIVITY OPTIONS (By Learning Style)
  # ==========================================================================
  differentiation_activities:
    # Performance-based (Kinesthetic/Interpersonal)
    performance_based:
      - id: "fight_choreography"
        name: "Stage Combat Workshop"
        description: "Design and rehearse safe stage combat for Act 3 Scene 1"
        blooms_level: "create"
        webb_dok: 4
        grouping: "pairs_or_small_groups"
        materials: ["foam swords", "blocking diagrams"]

      - id: "blocking_design"
        name: "Scene Blocking Designer"
        description: "Create blocking diagrams for a selected scene"
        blooms_level: "create"
        webb_dok: 3
        grouping: "pairs"
        materials: ["blocking templates", "stage diagram"]

      - id: "duet_performance"
        name: "Duet Scene Performance"
        description: "Rehearse and perform a two-character scene"
        blooms_level: "apply"
        webb_dok: 3
        grouping: "pairs"
        materials: ["script excerpts", "performance rubric"]

      - id: "soliloquy_performance"
        name: "Soliloquy Showcase"
        description: "Memorize and perform a soliloquy with interpretation"
        blooms_level: "evaluate"
        webb_dok: 4
        grouping: "individual"
        materials: ["soliloquy texts", "performance notes"]

    # Analysis-based (Logical/Verbal)
    analysis_based:
      - id: "character_chart"
        name: "Character Analysis Chart"
        description: "Create detailed character profiles with textual evidence"
        blooms_level: "analyze"
        webb_dok: 3
        grouping: "individual_or_pairs"
        materials: ["character template", "text access"]

      - id: "conflict_analysis"
        name: "Conflict Mapping"
        description: "Analyze and diagram the layers of conflict in the play"
        blooms_level: "analyze"
        webb_dok: 3
        grouping: "small_groups"
        materials: ["conflict diagram template"]

      - id: "dramatic_irony_hunt"
        name: "Dramatic Irony Investigation"
        description: "Identify and analyze instances of dramatic irony"
        blooms_level: "analyze"
        webb_dok: 3
        grouping: "pairs"
        materials: ["irony tracker worksheet"]

      - id: "theme_essay"
        name: "Thematic Analysis Essay"
        description: "Write analytical essay on a central theme"
        blooms_level: "evaluate"
        webb_dok: 4
        grouping: "individual"
        materials: ["essay prompt", "rubric"]

    # Creative-based (Visual/Creative)
    creative_based:
      - id: "modern_adaptation"
        name: "Modern Scene Adaptation"
        description: "Rewrite a scene in modern language and setting"
        blooms_level: "create"
        webb_dok: 4
        grouping: "small_groups"
        materials: ["adaptation guidelines"]

      - id: "artistic_interpretation"
        name: "Visual Art Response"
        description: "Create artwork representing a key scene or theme"
        blooms_level: "create"
        webb_dok: 3
        grouping: "individual"
        materials: ["art supplies", "scene images"]

      - id: "alternate_ending"
        name: "What If? Alternate Ending"
        description: "Write an alternate ending with textual justification"
        blooms_level: "create"
        webb_dok: 4
        grouping: "individual_or_pairs"
        materials: ["writing template"]

      - id: "theme_collage"
        name: "Theme Collage"
        description: "Create visual collage representing play themes"
        blooms_level: "analyze"
        webb_dok: 2
        grouping: "individual"
        materials: ["magazines", "poster board", "quotes"]

    # Discussion-based (Verbal/Interpersonal)
    discussion_based:
      - id: "character_trial"
        name: "Character on Trial"
        description: "Conduct mock trial for a character's actions"
        blooms_level: "evaluate"
        webb_dok: 4
        grouping: "whole_class"
        materials: ["trial roles", "evidence sheets"]

      - id: "prediction_debate"
        name: "Prediction Debate"
        description: "Debate predictions for upcoming events with evidence"
        blooms_level: "evaluate"
        webb_dok: 3
        grouping: "teams"
        materials: ["debate structure"]

      - id: "character_hot_seat"
        name: "Character Hot Seat"
        description: "Interview characters in role with class questions"
        blooms_level: "apply"
        webb_dok: 3
        grouping: "whole_class"
        materials: ["question prompts"]

      - id: "courtroom_trial"
        name: "Who's to Blame? Trial"
        description: "Full courtroom trial determining responsibility for deaths"
        blooms_level: "evaluate"
        webb_dok: 4
        grouping: "whole_class"
        materials: ["trial packet", "role cards"]

    # Writing-based (Verbal/Intrapersonal)
    writing_based:
      - id: "letter_writing"
        name: "Character Letters"
        description: "Write in-character letters between characters"
        blooms_level: "apply"
        webb_dok: 3
        grouping: "individual"
        materials: ["letter template", "character notes"]

      - id: "advice_column"
        name: "Dear Friar Lawrence"
        description: "Write advice column letters and responses in character"
        blooms_level: "apply"
        webb_dok: 3
        grouping: "pairs"
        materials: ["advice column template"]

      - id: "eulogy_writing"
        name: "Character Eulogy"
        description: "Write and deliver eulogy for a deceased character"
        blooms_level: "evaluate"
        webb_dok: 4
        grouping: "individual"
        materials: ["eulogy guidelines"]

      - id: "news_report"
        name: "Verona News Report"
        description: "Write news article covering events of the play"
        blooms_level: "apply"
        webb_dok: 3
        grouping: "pairs_or_small_groups"
        materials: ["news article template"]

  # ==========================================================================
  # READING ACTIVITIES (Kept from original)
  # ==========================================================================
  reading_activities:
    - name: "Shared Reading with Annotation"
      description: "Teacher reads aloud while students follow with text annotations"
      duration_minutes: 10
      supports: ["vocabulary preview", "modern translation", "character chart"]

    - name: "Close Reading with Discussion"
      description: "Focused reading of key passages with guided discussion"
      duration_minutes: 12
      supports: ["guiding questions", "annotation guide", "partner discussion"]

    - name: "Partner Reading with Roles"
      description: "Students read aloud in pairs, switching roles"
      duration_minutes: 10
      supports: ["role cards", "pronunciation guide", "character motivation"]

    - name: "Independent Reading with Response"
      description: "Silent reading followed by written response"
      duration_minutes: 8
      supports: ["reading guide", "response prompts", "vocabulary glossary"]

    - name: "Choral Reading for Verse"
      description: "Whole class reads verse passages in unison"
      duration_minutes: 5
      supports: ["rhythm guide", "emphasis markers", "verse structure"]

    - name: "Readers Theater Performance"
      description: "Dramatic reading with assigned parts"
      duration_minutes: 15
      supports: ["script excerpts", "character blocking", "vocal coaching"]

  # ==========================================================================
  # TIME SAVINGS SUMMARY
  # ==========================================================================
  time_savings:
    scenes_cut_count: 4
    scenes_trimmed_count: 3
    estimated_reading_time_saved_minutes: 45
    activity_days_gained: 11
    total_activity_days: 15
    total_reading_days: 15
    balance: "50% reading / 50% activities"

# =============================================================================
# INSTRUCTIONAL FRAMEWORKS (HARDCODED)
# =============================================================================

instructional_frameworks:
  # Scaffolding requirements
  scaffolding:
    min_scaffolds_per_lesson: 2
    max_scaffolds_per_lesson: 4
    required_progression: "high_to_low_support"  # Modeled -> Guided -> Collaborative -> Independent
    gradual_release_model: true  # I Do, We Do, You Do

  # Formative assessment requirements
  formative_assessment:
    min_checks_per_lesson: 2
    max_checks_per_lesson: 5
    variety_required: true  # Must use different types
    objective_alignment_required: true

  # Bloom's Taxonomy requirements
  blooms_taxonomy:
    min_levels_per_lesson: 3
    required_lower_order: 1  # At least 1 Remember/Understand/Apply
    required_higher_order: 1  # At least 1 Analyze/Evaluate/Create
    progression_required: true  # Lower before higher

  # Webb's DOK requirements
  webbs_dok:
    min_levels_per_lesson: 2
    foundation_required: true  # DOK 1-2 before DOK 3-4
    extended_encouraged: true  # DOK 4 when time allows

  # Lecture frontloading
  lecture_frontloading:
    required: true
    must_introduce_vocabulary: true
    must_connect_to_activity: true
    min_duration_minutes: 5
    max_duration_minutes: 20

# =============================================================================
# CALIFORNIA STANDARDS ALIGNMENT
# =============================================================================

standards:
  framework: "California Common Core"
  grade_levels: ["9-10", "11-12"]

  required_domains:
    - code_prefix: "RL"
      name: "Reading Literature"
      min_per_lesson: 1
    - code_prefix: "SL"
      name: "Speaking & Listening"
      min_per_lesson: 1
    - code_prefix: "W"
      name: "Writing"
      min_per_lesson: 0  # Optional

  format:
    include_full_text: true  # Not just codes
    example: "RL.9-10.3: Analyze how complex characters develop..."
